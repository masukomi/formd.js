<html>
	<head>
		<script src="formd.js" type="text/javascript"></script>
		<script>
			var top_text_element =null;
			var bottom_text_element = null;
			function initialize(){
				top_text_element = document.getElementById('top_text');
				bottom_text_element = document.getElementById('bottom_text');
			}
			function getTopText(){
				return  document.getElementById('top_text').value;
			}
			function convertToInline(){
				try{
					var formd = new ForMd(getTopText());
					var new_value = formd.inline_md()
					bottom_text_element.value = new_value;
					return new_value;
				} catch (e){
					alert("Exception: " + e)
				}
			}
			function convertToReference(){
				try{
					var formd = new ForMd(getTopText());
					var new_value = formd.ref_md();
					bottom_text_element.value = new_value;
					return new_value;
				} catch (e){
					alert("Exception: " + e)
				}
			}
			function convertToOpposite(){
				try{
					var formd = new ForMd(getTopText());
					var new_value = formd.flip();
					bottom_text_element.value = new_value;
					return new_value;
				} catch (e){
					alert("Exception: " + e)
				}
			}
			function resetTestText(){
				var default_text ="The quick brown [fox](http://en.wikipedia.org/wiki/Fox) jumped over the lazy [dog](http://en.wikipedia.org/wiki/Dog). [elephant][1]\n![chicken](http://www.example.com/chicken_image.jpg)\n\n[1]: http://example.com/elephant.jpg";

				top_text_element.value = default_text;
			}
		</script>
	</head>
	<body>
		<form>
			<h3>Click a button to convert this:</h3>
			<textarea id="top_text" cols="80" rows="5">

			</textarea>
			<br />
			<button onclick="convertToInline();return false;" >Convert to inline</button>
			<button onclick="convertToReference();return false;" >Convert To Reference</button>
			<button onclick="convertToOpposite();return false;" >Convert to opposite</button>
			<button onclick="resetTestText();return false;" >Reset text</button>

			<br />
			<h3>... and place the results here:</h3>
			<textarea id="bottom_text" cols="80" rows="7">

			</textarea>
		</form>
		<script>
			initialize();
			resetTestText();
		</script>
	</body>
</html>
